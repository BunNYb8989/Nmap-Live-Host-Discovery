# Nmap-Live-Host-Discovery
Task 1 (Introduction)
We present the different approaches that Nmap uses to discover live hosts. In particular, we cover:

ARP scan: This scan uses ARP requests to discover live hosts
ICMP scan: This scan uses ICMP requests to identify live hosts
TCP/UDP ping scan: This scan sends packets to TCP ports and UDP ports to determine live hosts.
We also introduce two scanners, arp-scan and masscan, and explain how they overlap with part of Nmap’s host discovery.

![f1b4ede255e008646e425038d709c9b6](https://github.com/user-attachments/assets/a6de79fe-af61-445c-b1ac-d1f590d9b143)


Task 2
Subnetworks

A network segment is a group of computers connected using a shared medium. For instance, the medium can be the Ethernet switch or WiFi access point.
                                         In an IP network, a subnetwork is usually the equivalent of one or more network segments connected together and configured to use the same router.
- The network segment refers to a physical connection, 
- while a subnetwork refers to a logical connection.

 we have four network segments or subnetworks. Generally speaking, your system would be connected to one of these network segments/subnetworks.
 A subnetwork, or simply a subnet, has its own IP address range and is connected to a more extensive network via a router. There might be a firewall enforcing security policies depending on each network.

![aa787518e856e0094cb40da8399be0f3](https://github.com/user-attachments/assets/7b4aa825-089d-418a-ad36-136d593d0a63)

Suppose you are connected to a subnet different from the subnet of the target system(s). In that case, all packets generated by your scanner will be routed via the default gateway (router) to reach the systems on another subnet; however, the ARP queries won’t be routed and hence cannot cross the subnet router. ARP is a link-layer protocol, and ARP packets are bound to their subnet.

- This means that while your scanner can send packets to the target systems on a different subnet, it won't be able to perform ARP queries to resolve the MAC addresses of those systems. Instead, 
- the router will handle the ARP resolution for the target subnet and forward the packets accordingly.

# question 
How many devices can see the ARP Request?
```
4
```
Did computer6 receive the ARP Request? (Y/N)
```
N
```

How many devices can see the ARP Request?
```
4
```
Did computer6 reply to the ARP Request? (Y/N)
```
Y
```

Task 3
Enumerating Targets
you can provide a list, a range, or a subnet. Examples of target specification are:

- list: MACHINE_IP scanme.nmap.org example.com will scan 3 IP addresses.
- range: 10.11.12.15-20 will scan 6 IP addresses: 10.11.12.15, 10.11.12.16,… and 10.11.12.20.
- subnet: MACHINE_IP/30 will scan 4 IP addresses.

You can also provide a file as input for your list of targets, ```nmap -iL list_of_hosts.txt.```

If you want to check the list of hosts that Nmap will scan, you can use ```nmap -sL``` TARGETS. This option will give you a detailed list of the hosts that Nmap will scan without scanning them;
however, Nmap will attempt a reverse-DNS resolution on all the targets to obtain their names. Names might reveal various information to the pentester. (If you don’t want Nmap to the DNS server, you can add -n.)

# Qustion's
What is the first IP address Nmap would scan if you provided 10.10.12.13/29 as your target?
```
10.10.12.8
```
How many IP addresses will Nmap scan if you provide the following range 10.10.0-255.101-125? 
```
6400
```
Task 4
Discovering Live Hosts

ARP from Link Layer
ICMP from Network Layer
TCP from Transport Layer
UDP from Transport Layer

![745e0412b319d324352c7b29863b74f4](https://github.com/user-attachments/assets/4e35b967-854e-410e-a610-4d99fdedf2c0)

 ARP has one purpose: sending a frame to the broadcast address on the network segment and asking the computer with a specific IP address to respond by providing its MAC (hardware) address.

# question
Send a packet with the following:

From computer1
To computer3
Packet Type: “Ping Request”
 
What is the type of packet that computer1 sent before the ping?
```

```
What is the type of packet that computer1 received before being able to send the ping?
```

```
How many computers responded to the ping request?
```

```

Send a packet with the following:

From computer2
To computer5
Packet Type: “Ping Request”

What is the name of the first device that responded to the first ARP Request?
```

```
What is the name of the first device that responded to the second ARP Request?
```

```
Send another Ping Request. Did it require new ARP Requests? (Y/N)
```

```
Task 5
Nmap Host Discovery Using ARP

# Answer the questions below
We will be sending broadcast ARP Requests packets with the following options:

From computer1
To computer1 (to indicate it is broadcast)
Packet Type: “ARP Request”
Data: try all the possible eight devices (other than computer1) in the network: computer2, computer3, computer4, computer5, computer6, switch1, switch2, and router.

How many devices are you able to discover using ARP requests?
```

```
Task 6
Nmap Host Discovery Using ICMP

Answer the questions below
What is the option required to tell Nmap to use ICMP Timestamp to discover live hosts?
```

```
What is the option required to tell Nmap to use ICMP Address Mask to discover live hosts?
```

```
What is the option required to tell Nmap to use ICMP Echo to discover live hosts?
```

```
Task 7
Nmap Host Discovery Using TCP and UDP


# Answer the questions below
Which TCP ping scan does not require a privileged account?
```

```
Which TCP ping scan requires a privileged account?
```

```
What option do you need to add to Nmap to run a TCP SYN ping scan on the telnet port?
```

```
Task 8
Using Reverse-DNS Lookup

# Answer the questions below
We want Nmap to issue a reverse DNS lookup for all the possibles hosts on a subnet, hoping to get some insights from the names. What option should we add?
```

```
Task 9
Summary
You have learned how ARP, ICMP, TCP, and UDP can detect live hosts by completing this room. Any response from a host is an indication that it is online. Below is a quick summary of the command-line options for Nmap that we have covered.

Scan Type	Example Command
ARP Scan	sudo nmap -PR -sn MACHINE_IP/24
ICMP Echo Scan	sudo nmap -PE -sn MACHINE_IP/24
ICMP Timestamp Scan	sudo nmap -PP -sn MACHINE_IP/24
ICMP Address Mask Scan	sudo nmap -PM -sn MACHINE_IP/24
TCP SYN Ping Scan	sudo nmap -PS22,80,443 -sn MACHINE_IP/30
TCP ACK Ping Scan	sudo nmap -PA22,80,443 -sn MACHINE_IP/30
UDP Ping Scan	sudo nmap -PU53,161,162 -sn MACHINE_IP/30

Remember to add -sn if you are only interested in host discovery without port-scanning. Omitting -sn will let Nmap default to port-scanning the live hosts.

Option	Purpose
-n	no DNS lookup
-R	reverse-DNS lookup for all hosts
-sn	host discovery only


